<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>BioCro: /home/dlebauer/dev/biocro/src/AuxwillowGro.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BioCro
   &#160;<span id="projectnumber">0.92</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_auxwillow_gro_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AuxwillowGro.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;R.h&gt;</code><br/>
<code>#include &lt;Rmath.h&gt;</code><br/>
<code>#include &lt;Rinternals.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="">c3photo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="">AuxBioCro.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="">BioCro.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="">AuxwillowGro.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="">c3canopy.h</a>&quot;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for AuxwillowGro.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="_auxwillow_gro_8c__incl.png" border="0" usemap="#_2home_2dlebauer_2dev_2biocro_2src_2_auxwillow_gro_8c" alt=""/></div>
<map name="_2home_2dlebauer_2dev_2biocro_2src_2_auxwillow_gro_8c" id="_2home_2dlebauer_2dev_2biocro_2src_2_auxwillow_gro_8c">
<area shape="rect" id="node5" href="c3photo_8h.html" title="c3photo.h" alt="" coords="311,96,389,123"/><area shape="rect" id="node6" href="_aux_bio_cro_8h.html" title="AuxBioCro.h" alt="" coords="415,96,511,123"/><area shape="rect" id="node7" href="_bio_cro_8h.html" title="BioCro.h" alt="" coords="535,96,608,123"/><area shape="rect" id="node8" href="_auxwillow_gro_8h.html" title="AuxwillowGro.h" alt="" coords="633,96,745,123"/><area shape="rect" id="node9" href="c3canopy_8h.html" title="c3canopy.h" alt="" coords="146,96,235,123"/></map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac76a61a6bb1df6d8edfcf84ef826c32c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#ac76a61a6bb1df6d8edfcf84ef826c32c">createCanopy</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, int Nlayers, double LAItotal)</td></tr>
<tr class="separator:ac76a61a6bb1df6d8edfcf84ef826c32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6227c845c706959b38921e90ec099311"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#a6227c845c706959b38921e90ec099311">discretizeCanopy</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>)</td></tr>
<tr class="separator:a6227c845c706959b38921e90ec099311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b569d4b9b8006b06c35d0aee5ec51ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#a5b569d4b9b8006b06c35d0aee5ec51ea">getcanopylightme</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, double lat, double DOY, int td, double solarR)</td></tr>
<tr class="separator:a5b569d4b9b8006b06c35d0aee5ec51ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5829d0791e03458b6fa02f8c5b50989"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#af5829d0791e03458b6fa02f8c5b50989">getCanopysunML</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, double kd, double chil, double heightf)</td></tr>
<tr class="separator:af5829d0791e03458b6fa02f8c5b50989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42513b789aea0a0523e01aa6e757f35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#ae42513b789aea0a0523e01aa6e757f35">getcanopyWINDprofile</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, double WindSpeed)</td></tr>
<tr class="separator:ae42513b789aea0a0523e01aa6e757f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac827965d6919349d51719e982298f72e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#ac827965d6919349d51719e982298f72e">getcanopyRHprof</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, double RH)</td></tr>
<tr class="separator:ac827965d6919349d51719e982298f72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962f1edaba4e3276bcf5e5b4be25055a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#a962f1edaba4e3276bcf5e5b4be25055a">getcanopyLNprof</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>, double LeafN, double kpLN)</td></tr>
<tr class="separator:a962f1edaba4e3276bcf5e5b4be25055a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4fbabce7c710d9d71c428f3b4622b52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#ae4fbabce7c710d9d71c428f3b4622b52">freecanopy</a> (struct <a class="el" href="structcanopy.html">canopy</a> *<a class="el" href="structcanopy.html">canopy</a>)</td></tr>
<tr class="separator:ae4fbabce7c710d9d71c428f3b4622b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fd78212ed1cfbe6bd2d77f6ec851ec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_can___str.html">Can_Str</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_auxwillow_gro_8c.html#af2fd78212ed1cfbe6bd2d77f6ec851ec">c3CanAC</a> (double LAI, int DOY, int hr, double solarR, double Temp, double RH, double WindSpeed, double lat, int nlayers, double Vmax, double Jmax, double Rd, double Catm, double o2, double b0, double b1, double theta, double kd, double heightf, double leafN, double kpLN, double lnb0, double lnb1, int lnfun, double StomWS, int ws)</td></tr>
<tr class="separator:af2fd78212ed1cfbe6bd2d77f6ec851ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af2fd78212ed1cfbe6bd2d77f6ec851ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_can___str.html">Can_Str</a> c3CanAC </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>LAI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>DOY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>solarR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>RH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>WindSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlayers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Vmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Jmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Catm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>o2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>heightf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>leafN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kpLN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lnb0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lnb1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>StomWS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ws</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac76a61a6bb1df6d8edfcf84ef826c32c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createCanopy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Nlayers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>LAItotal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">/**********************************************</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">   * Purpose:</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">   * creare a NULL canopy structure</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">   * allocate memory based on number of layers</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">   * initialize all the components of canopy structure</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">   * ***********************************************/</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>=Nlayers;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">Idirtop</a>=0.0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">Idifftop</a>=0.0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">CosZenithAngle</a> =0.0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">LAItotal</a>= LAItotal;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a> =  malloc((Nlayers+1)*<span class="keyword">sizeof</span>(*canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a> = malloc((Nlayers+1)*<span class="keyword">sizeof</span>(*canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a> = malloc((Nlayers+1)*<span class="keyword">sizeof</span>(*canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">for</span> (i =0; i&lt;Nlayers; i++)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a517a3f4381501a07eaf435abaf505036">Idir</a>=0.0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a7b44f9b02093a720da43213e4230466b">Idiff</a>=0.0;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#ab1547ef7e75f10b8c575b5301aaee5f4">Itotal</a>=0.0;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a19532976fea010b59d78084cb47e79b0">RH</a>=0.0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a44364bb96e8d72080f9e82fb0325d6aa">windspeed</a>=0.0;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#ab48a68073683c5cc2d2b9ab468242e3a">Catm</a>=0.0;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a30b2ceb495b99ab029b438563e5f22fa">Temp</a>=0.0;   </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">LAI</a>=0.0;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#ab2e1f98b44db7479f97be119766270ef">LeafN</a>=0.0;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#affd2258e348a38ff904bcda150fc3a31">pLeafsun</a>=0.0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#a27667cdee7bbfb679803cf36256c4cd5">pLeafshade</a>=0.0;   </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#a6f4001fadc078e666bce2ddd7676fff5">heightf</a>=0.0;  </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a31967f81cd843ba446625ea1c097b531">sunlittemp</a>=0.0;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a8ad52f751228018a07d26916949f26b9">shadedtemp</a>=0.0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a464378798147ceedbc7ec44c2a7b55ea">TotalAnet</a>=0.0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#ae791a96b55303a27fa23d06f98655a37">TotalAgross</a>=0.0;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a505245413b183273f5f4979c1c1257a9">TotalTrans</a>=0.0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a3546a9419a506debbb59bfe8b6c62de9">shadedAnet</a>=0.0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a3a7921702915c4b18ddd2d89091ef812">shadedAgross</a>=0.0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#ac4ffdd62da93119561b8db0927edd646">sunlitAnet</a>=0.0;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a409c5f8083acd4d9b4f08d4fa234850d">sunlitAgross</a>=0.0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a52337aac5319bd29fb958562cf8153f7">shadedTemp</a>=0.0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#ad703c329b0426ad58d9071922f32613e">sunlitTemp</a>=0.0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a1355c38db79733fa2c02e45ca3262f4c">shadedTranspiration</a>=0.0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>[i].<a class="code" href="structcanopyoutput.html#a9c24624fc997fb5581bd59b7e56c1d67">sunlitTranspiration</a>=0.0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="ttc" id="structcanopy_html_ad29629692a0d9d13f09a05f94789c47d"><div class="ttname"><a href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">canopy::CosZenithAngle</a></div><div class="ttdeci">double CosZenithAngle</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_html_aedddaa0b7079a117ba6f8cfd64eb5ca1"><div class="ttname"><a href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">canopy::Idifftop</a></div><div class="ttdeci">double Idifftop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_leaf_html_af2896a94dc4bf29566d632587e9c54f1"><div class="ttname"><a href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">canopyLeaf::LAI</a></div><div class="ttdeci">double LAI</div><div class="ttdef"><b>Definition:</b> c3canopy.h:23</div></div>
<div class="ttc" id="structcanopy_html_afdd9fd9f2ef8702568ea149d7ea535c2"><div class="ttname"><a href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">canopy::OUT</a></div><div class="ttdeci">struct canopyoutput * OUT</div><div class="ttdef"><b>Definition:</b> c3canopy.h:55</div></div>
<div class="ttc" id="structcanopy_env_html_a7b44f9b02093a720da43213e4230466b"><div class="ttname"><a href="structcanopy_env.html#a7b44f9b02093a720da43213e4230466b">canopyEnv::Idiff</a></div><div class="ttdeci">double Idiff</div><div class="ttdef"><b>Definition:</b> c3canopy.h:13</div></div>
<div class="ttc" id="structcanopyoutput_html_ae791a96b55303a27fa23d06f98655a37"><div class="ttname"><a href="structcanopyoutput.html#ae791a96b55303a27fa23d06f98655a37">canopyoutput::TotalAgross</a></div><div class="ttdeci">double TotalAgross</div><div class="ttdef"><b>Definition:</b> c3canopy.h:36</div></div>
<div class="ttc" id="structcanopy_leaf_html_a6f4001fadc078e666bce2ddd7676fff5"><div class="ttname"><a href="structcanopy_leaf.html#a6f4001fadc078e666bce2ddd7676fff5">canopyLeaf::heightf</a></div><div class="ttdeci">double heightf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:26</div></div>
<div class="ttc" id="structcanopyoutput_html_a464378798147ceedbc7ec44c2a7b55ea"><div class="ttname"><a href="structcanopyoutput.html#a464378798147ceedbc7ec44c2a7b55ea">canopyoutput::TotalAnet</a></div><div class="ttdeci">double TotalAnet</div><div class="ttdef"><b>Definition:</b> c3canopy.h:35</div></div>
<div class="ttc" id="structcanopy_html_ae9da79a864273ae0b9f186593ec33766"><div class="ttname"><a href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">canopy::Idirtop</a></div><div class="ttdeci">double Idirtop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopyoutput_html_a31967f81cd843ba446625ea1c097b531"><div class="ttname"><a href="structcanopyoutput.html#a31967f81cd843ba446625ea1c097b531">canopyoutput::sunlittemp</a></div><div class="ttdeci">double sunlittemp</div><div class="ttdef"><b>Definition:</b> c3canopy.h:33</div></div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopyoutput_html_ac4ffdd62da93119561b8db0927edd646"><div class="ttname"><a href="structcanopyoutput.html#ac4ffdd62da93119561b8db0927edd646">canopyoutput::sunlitAnet</a></div><div class="ttdeci">double sunlitAnet</div><div class="ttdef"><b>Definition:</b> c3canopy.h:40</div></div>
<div class="ttc" id="structcanopy_env_html_a44364bb96e8d72080f9e82fb0325d6aa"><div class="ttname"><a href="structcanopy_env.html#a44364bb96e8d72080f9e82fb0325d6aa">canopyEnv::windspeed</a></div><div class="ttdeci">double windspeed</div><div class="ttdef"><b>Definition:</b> c3canopy.h:16</div></div>
<div class="ttc" id="structcanopyoutput_html_a3a7921702915c4b18ddd2d89091ef812"><div class="ttname"><a href="structcanopyoutput.html#a3a7921702915c4b18ddd2d89091ef812">canopyoutput::shadedAgross</a></div><div class="ttdeci">double shadedAgross</div><div class="ttdef"><b>Definition:</b> c3canopy.h:39</div></div>
<div class="ttc" id="structcanopy_leaf_html_ab2e1f98b44db7479f97be119766270ef"><div class="ttname"><a href="structcanopy_leaf.html#ab2e1f98b44db7479f97be119766270ef">canopyLeaf::LeafN</a></div><div class="ttdeci">double LeafN</div><div class="ttdef"><b>Definition:</b> c3canopy.h:27</div></div>
<div class="ttc" id="structcanopy_leaf_html_affd2258e348a38ff904bcda150fc3a31"><div class="ttname"><a href="structcanopy_leaf.html#affd2258e348a38ff904bcda150fc3a31">canopyLeaf::pLeafsun</a></div><div class="ttdeci">double pLeafsun</div><div class="ttdef"><b>Definition:</b> c3canopy.h:24</div></div>
<div class="ttc" id="structcanopy_env_html_ab1547ef7e75f10b8c575b5301aaee5f4"><div class="ttname"><a href="structcanopy_env.html#ab1547ef7e75f10b8c575b5301aaee5f4">canopyEnv::Itotal</a></div><div class="ttdeci">double Itotal</div><div class="ttdef"><b>Definition:</b> c3canopy.h:14</div></div>
<div class="ttc" id="structcanopy_env_html_a517a3f4381501a07eaf435abaf505036"><div class="ttname"><a href="structcanopy_env.html#a517a3f4381501a07eaf435abaf505036">canopyEnv::Idir</a></div><div class="ttdeci">double Idir</div><div class="ttdef"><b>Definition:</b> c3canopy.h:12</div></div>
<div class="ttc" id="structcanopyoutput_html_a8ad52f751228018a07d26916949f26b9"><div class="ttname"><a href="structcanopyoutput.html#a8ad52f751228018a07d26916949f26b9">canopyoutput::shadedtemp</a></div><div class="ttdeci">double shadedtemp</div><div class="ttdef"><b>Definition:</b> c3canopy.h:34</div></div>
<div class="ttc" id="structcanopyoutput_html_a409c5f8083acd4d9b4f08d4fa234850d"><div class="ttname"><a href="structcanopyoutput.html#a409c5f8083acd4d9b4f08d4fa234850d">canopyoutput::sunlitAgross</a></div><div class="ttdeci">double sunlitAgross</div><div class="ttdef"><b>Definition:</b> c3canopy.h:41</div></div>
<div class="ttc" id="structcanopyoutput_html_ad703c329b0426ad58d9071922f32613e"><div class="ttname"><a href="structcanopyoutput.html#ad703c329b0426ad58d9071922f32613e">canopyoutput::sunlitTemp</a></div><div class="ttdeci">double sunlitTemp</div><div class="ttdef"><b>Definition:</b> c3canopy.h:43</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
<div class="ttc" id="structcanopyoutput_html_a1355c38db79733fa2c02e45ca3262f4c"><div class="ttname"><a href="structcanopyoutput.html#a1355c38db79733fa2c02e45ca3262f4c">canopyoutput::shadedTranspiration</a></div><div class="ttdeci">double shadedTranspiration</div><div class="ttdef"><b>Definition:</b> c3canopy.h:44</div></div>
<div class="ttc" id="structcanopyoutput_html_a3546a9419a506debbb59bfe8b6c62de9"><div class="ttname"><a href="structcanopyoutput.html#a3546a9419a506debbb59bfe8b6c62de9">canopyoutput::shadedAnet</a></div><div class="ttdeci">double shadedAnet</div><div class="ttdef"><b>Definition:</b> c3canopy.h:38</div></div>
<div class="ttc" id="structcanopy_env_html_a19532976fea010b59d78084cb47e79b0"><div class="ttname"><a href="structcanopy_env.html#a19532976fea010b59d78084cb47e79b0">canopyEnv::RH</a></div><div class="ttdeci">double RH</div><div class="ttdef"><b>Definition:</b> c3canopy.h:15</div></div>
<div class="ttc" id="structcanopy_html_a0350fe373203592057a8eba790733c4e"><div class="ttname"><a href="structcanopy.html#a0350fe373203592057a8eba790733c4e">canopy::ENV</a></div><div class="ttdeci">struct canopyEnv * ENV</div><div class="ttdef"><b>Definition:</b> c3canopy.h:53</div></div>
<div class="ttc" id="structcanopyoutput_html_a9c24624fc997fb5581bd59b7e56c1d67"><div class="ttname"><a href="structcanopyoutput.html#a9c24624fc997fb5581bd59b7e56c1d67">canopyoutput::sunlitTranspiration</a></div><div class="ttdeci">double sunlitTranspiration</div><div class="ttdef"><b>Definition:</b> c3canopy.h:45</div></div>
<div class="ttc" id="structcanopy_html_a17cbba40a9200a0b3473cebc58c87f3b"><div class="ttname"><a href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">canopy::LAItotal</a></div><div class="ttdeci">double LAItotal</div><div class="ttdef"><b>Definition:</b> c3canopy.h:52</div></div>
<div class="ttc" id="structcanopy_env_html_a30b2ceb495b99ab029b438563e5f22fa"><div class="ttname"><a href="structcanopy_env.html#a30b2ceb495b99ab029b438563e5f22fa">canopyEnv::Temp</a></div><div class="ttdeci">double Temp</div><div class="ttdef"><b>Definition:</b> c3canopy.h:18</div></div>
<div class="ttc" id="structcanopy_leaf_html_a27667cdee7bbfb679803cf36256c4cd5"><div class="ttname"><a href="structcanopy_leaf.html#a27667cdee7bbfb679803cf36256c4cd5">canopyLeaf::pLeafshade</a></div><div class="ttdeci">double pLeafshade</div><div class="ttdef"><b>Definition:</b> c3canopy.h:25</div></div>
<div class="ttc" id="structcanopy_env_html_ab48a68073683c5cc2d2b9ab468242e3a"><div class="ttname"><a href="structcanopy_env.html#ab48a68073683c5cc2d2b9ab468242e3a">canopyEnv::Catm</a></div><div class="ttdeci">double Catm</div><div class="ttdef"><b>Definition:</b> c3canopy.h:17</div></div>
<div class="ttc" id="structcanopyoutput_html_a52337aac5319bd29fb958562cf8153f7"><div class="ttname"><a href="structcanopyoutput.html#a52337aac5319bd29fb958562cf8153f7">canopyoutput::shadedTemp</a></div><div class="ttdeci">double shadedTemp</div><div class="ttdef"><b>Definition:</b> c3canopy.h:42</div></div>
<div class="ttc" id="structcanopyoutput_html_a505245413b183273f5f4979c1c1257a9"><div class="ttname"><a href="structcanopyoutput.html#a505245413b183273f5f4979c1c1257a9">canopyoutput::TotalTrans</a></div><div class="ttdeci">double TotalTrans</div><div class="ttdef"><b>Definition:</b> c3canopy.h:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6227c845c706959b38921e90ec099311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void discretizeCanopy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">/******************************************************************************</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   * Purpose:</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   * This function discretize the canopy  by assigning total LAI into each canopy layer equally</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">   * In Future, this function can be changed to accomodate Leaf Area Density</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">   ******************************************************************************/</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">for</span> (i=0;i&lt;(canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>);i++)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">LAI</a>=canopy-&gt;<a class="code" href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">LAItotal</a>/canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="ttc" id="structcanopy_leaf_html_af2896a94dc4bf29566d632587e9c54f1"><div class="ttname"><a href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">canopyLeaf::LAI</a></div><div class="ttdeci">double LAI</div><div class="ttdef"><b>Definition:</b> c3canopy.h:23</div></div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
<div class="ttc" id="structcanopy_html_a17cbba40a9200a0b3473cebc58c87f3b"><div class="ttname"><a href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">canopy::LAItotal</a></div><div class="ttdeci">double LAItotal</div><div class="ttdef"><b>Definition:</b> c3canopy.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4fbabce7c710d9d71c428f3b4622b52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void freecanopy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  free(canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  free(canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  free(canopy-&gt;<a class="code" href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">OUT</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="structcanopy_html_afdd9fd9f2ef8702568ea149d7ea535c2"><div class="ttname"><a href="structcanopy.html#afdd9fd9f2ef8702568ea149d7ea535c2">canopy::OUT</a></div><div class="ttdeci">struct canopyoutput * OUT</div><div class="ttdef"><b>Definition:</b> c3canopy.h:55</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
<div class="ttc" id="structcanopy_html_a0350fe373203592057a8eba790733c4e"><div class="ttname"><a href="structcanopy.html#a0350fe373203592057a8eba790733c4e">canopy::ENV</a></div><div class="ttdeci">struct canopyEnv * ENV</div><div class="ttdef"><b>Definition:</b> c3canopy.h:53</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b569d4b9b8006b06c35d0aee5ec51ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getcanopylightme </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>DOY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>solarR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">/***********************************************************************</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">   * Purpose: To calculate direct and diffused sunlight at the top of the canopy</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">   * Input</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   * lat:- Latitude</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">   * DOY:- Day of Year</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">   * td= Time of day</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   * solarR :- Incoming Solar Radiation</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   * Output:</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">   * canopy structure is updated for the following variables</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">   * Idirtop :- direct light at the top of the canopy</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">   * Idifftop:- Diffused light at the top of the canopy</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">   * CosZenithAngle:- Zenith Angle, to be used in the subsequent calculations</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">   * Reference:</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">   * Humphries Thesis</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">   * page 51</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">   * ***********************************************************************/</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">double</span> omega, delta0, delta, deltaR;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordtype">double</span> tf, SSin, CCos, PPo;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">double</span> CosZenithAngle, CosHour;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordtype">double</span> CosHourDeg;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">double</span> Idir, Idiff, propIdir, propIdiff;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> DTR = <a class="code" href="denitrify_8c.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>/180;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> tsn = 12.0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> alpha = 0.85;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> SolarConstant = 2650;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> atmP = 1e5;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        omega = lat * DTR;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        delta0 = 360.0 * ((DOY + 10)/365.0);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        delta = -23.5 * cos(delta0*DTR);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        deltaR = delta * DTR;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        tf = (15.0*(td - tsn))*DTR;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        SSin = sin(deltaR) * sin(omega);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        CCos = cos(deltaR) * cos(omega);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        CosZenithAngle = SSin + CCos * cos(tf);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span>(CosZenithAngle &lt; pow(10,-10))</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                CosZenithAngle = pow(10,-10);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        CosHour = -tan(omega) * tan(deltaR);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        CosHourDeg = (1/DTR)*CosHour;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span>(CosHourDeg &lt; -57)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                CosHour = -0.994;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        PPo = 1e5 / atmP;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        Idir = SolarConstant * (pow(alpha,(PPo/CosZenithAngle)));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        Idiff = 0.3 * SolarConstant *(1 - pow(alpha,(PPo/CosZenithAngle))) * CosZenithAngle ;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        propIdir = Idir / (Idir + Idiff);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        propIdiff = Idiff / (Idir + Idiff);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        canopy-&gt;<a class="code" href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">Idirtop</a>=propIdir*solarR;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        canopy-&gt;<a class="code" href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">Idifftop</a>= propIdiff*solarR ;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        canopy-&gt;<a class="code" href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">CosZenithAngle</a> =CosZenithAngle;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="structcanopy_html_ad29629692a0d9d13f09a05f94789c47d"><div class="ttname"><a href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">canopy::CosZenithAngle</a></div><div class="ttdeci">double CosZenithAngle</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_html_aedddaa0b7079a117ba6f8cfd64eb5ca1"><div class="ttname"><a href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">canopy::Idifftop</a></div><div class="ttdeci">double Idifftop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_html_ae9da79a864273ae0b9f186593ec33766"><div class="ttname"><a href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">canopy::Idirtop</a></div><div class="ttdeci">double Idirtop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="denitrify_8c_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="denitrify_8c.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> denitrify.c:139</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a962f1edaba4e3276bcf5e5b4be25055a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getcanopyLNprof </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>LeafN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kpLN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">/*******************************************************************</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">   * This function calculates Leaf N distrivution of different canopy layers</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">   * Leaf N will subsequently be used in calculation of photosynthesis parameters</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   * Input parameters</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   * Leaf N: Leaf N at the top of the canopy</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">   * kpLN: Extinction coefficient for exponential decline in leaf N with LAI</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">   * ************************************************************************/</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordtype">double</span> leafNla,CumLAI;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        CumLAI=0.0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">for</span>(i=0;i&lt;(canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>);i++)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#ab2e1f98b44db7479f97be119766270ef">LeafN</a>= LeafN * exp(-kpLN * CumLAI);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                CumLAI = CumLAI+canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">LAI</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="ttc" id="structcanopy_leaf_html_af2896a94dc4bf29566d632587e9c54f1"><div class="ttname"><a href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">canopyLeaf::LAI</a></div><div class="ttdeci">double LAI</div><div class="ttdef"><b>Definition:</b> c3canopy.h:23</div></div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopy_leaf_html_ab2e1f98b44db7479f97be119766270ef"><div class="ttname"><a href="structcanopy_leaf.html#ab2e1f98b44db7479f97be119766270ef">canopyLeaf::LeafN</a></div><div class="ttdeci">double LeafN</div><div class="ttdef"><b>Definition:</b> c3canopy.h:27</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac827965d6919349d51719e982298f72e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getcanopyRHprof </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>RH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;       <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordtype">double</span> kh, hsla, j;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        kh = 1 - RH;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;       </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">for</span>(i=0;i&lt;(canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>);i++)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                j = i + 1;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                hsla = RH * exp(kh * (j/canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//              /*hsla = RH * exp(-kh * (j/nlayers));  /*new simpler version from Joe Iverson*/</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">if</span>(hsla &gt; 1) hsla = 0.99; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a19532976fea010b59d78084cb47e79b0">RH</a> = hsla;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopy_env_html_a19532976fea010b59d78084cb47e79b0"><div class="ttname"><a href="structcanopy_env.html#a19532976fea010b59d78084cb47e79b0">canopyEnv::RH</a></div><div class="ttdeci">double RH</div><div class="ttdef"><b>Definition:</b> c3canopy.h:15</div></div>
<div class="ttc" id="structcanopy_html_a0350fe373203592057a8eba790733c4e"><div class="ttname"><a href="structcanopy.html#a0350fe373203592057a8eba790733c4e">canopy::ENV</a></div><div class="ttdeci">struct canopyEnv * ENV</div><div class="ttdef"><b>Definition:</b> c3canopy.h:53</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5829d0791e03458b6fa02f8c5b50989"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getCanopysunML </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>chil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>heightf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">/****************************************************************************************************</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">   * Purpose:</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">   * Calculate fraction of shaded and sunlit leaves  in each of the canopy layers</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">   * Also, Calculate Direct, diffused and Scattered Light for each of the canopy layer</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">   * Input</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">   * Direct Sun Light at the Top of the Canopy</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">   * Diffused Light at the TOp of the Canopy</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">   * LAI Total Leaf Area Index of the Canopy</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">   * Nlayers Number of Canopy Layers</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">   * cosTheta: Cosine of Zenith Angel</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">   * Chil: Factor determining leaf angle distribtion of the canopy</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">   * heightF: Height Factor of the Canopy</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">   * Output</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   * Fraction of Sunlit Leaves in Each Layer</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   * Fraction of Shaded leaves in Each layer</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   * Amount of Light (Direct + Diffuses+Scattered) on the sunlit leaves of each layer</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">   * Amount of Light (Diffused+Scattered) on the shaded leaves of each layer</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">   * *****************************************************************************************/</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">double</span> k0, k1, k;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">double</span> LAIi, CumLAI;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordtype">double</span> Isolar, Idiffuse, Ibeam, Iscat, Itotal,alphascatter;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordtype">double</span> Ls, Ld;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordtype">double</span> Fsun, Fshade;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        alphascatter=0.8;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        k0 = sqrt(pow(chil ,2) + pow(tan(acos(canopy-&gt;<a class="code" href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">CosZenithAngle</a>)),2));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        k1 = chil + 1.744*pow((chil+1.183),-0.733);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        k = k0/k1;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span>(k&lt;0)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                k = -k;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        LAIi = canopy-&gt;<a class="code" href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">LAItotal</a> / canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">for</span>(i=0;i&lt;canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>;i++)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                CumLAI = LAIi * (i+0.5);          </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                Ibeam=canopy-&gt;<a class="code" href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">Idirtop</a>*canopy-&gt;<a class="code" href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">CosZenithAngle</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                Iscat = Ibeam * exp(-k *sqrt(alphascatter)* CumLAI)-Ibeam * exp(-k * CumLAI);     </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                Isolar = Ibeam*k;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                Idiffuse = canopy-&gt;<a class="code" href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">Idifftop</a> * exp(-kd * CumLAI) + Iscat;                </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                Ls = (1-exp(-k*LAIi))*exp(-k*CumLAI)/k;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                Ld=LAIi-Ls;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                Fsun=Ls/(Ls+Ld);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                Fshade=Ld/(Ls+Ld);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#affd2258e348a38ff904bcda150fc3a31">pLeafsun</a>=Fsun;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#a27667cdee7bbfb679803cf36256c4cd5">pLeafshade</a>=Fshade;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#a6f4001fadc078e666bce2ddd7676fff5">heightf</a> = CumLAI/heightf;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="comment">/*fraction intercepted*/</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                Itotal =(Fsun*Isolar + Idiffuse) * (1-exp(-k*LAIi))/k;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="comment">/* collecting the results */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a517a3f4381501a07eaf435abaf505036">Idir</a>= Isolar+Idiffuse ;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a7b44f9b02093a720da43213e4230466b">Idiff</a> = Idiffuse;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#ab1547ef7e75f10b8c575b5301aaee5f4">Itotal</a> = Itotal;                </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="structcanopy_html_ad29629692a0d9d13f09a05f94789c47d"><div class="ttname"><a href="structcanopy.html#ad29629692a0d9d13f09a05f94789c47d">canopy::CosZenithAngle</a></div><div class="ttdeci">double CosZenithAngle</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_html_aedddaa0b7079a117ba6f8cfd64eb5ca1"><div class="ttname"><a href="structcanopy.html#aedddaa0b7079a117ba6f8cfd64eb5ca1">canopy::Idifftop</a></div><div class="ttdeci">double Idifftop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_env_html_a7b44f9b02093a720da43213e4230466b"><div class="ttname"><a href="structcanopy_env.html#a7b44f9b02093a720da43213e4230466b">canopyEnv::Idiff</a></div><div class="ttdeci">double Idiff</div><div class="ttdef"><b>Definition:</b> c3canopy.h:13</div></div>
<div class="ttc" id="structcanopy_leaf_html_a6f4001fadc078e666bce2ddd7676fff5"><div class="ttname"><a href="structcanopy_leaf.html#a6f4001fadc078e666bce2ddd7676fff5">canopyLeaf::heightf</a></div><div class="ttdeci">double heightf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:26</div></div>
<div class="ttc" id="structcanopy_html_ae9da79a864273ae0b9f186593ec33766"><div class="ttname"><a href="structcanopy.html#ae9da79a864273ae0b9f186593ec33766">canopy::Idirtop</a></div><div class="ttdeci">double Idirtop</div><div class="ttdef"><b>Definition:</b> c3canopy.h:51</div></div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopy_leaf_html_affd2258e348a38ff904bcda150fc3a31"><div class="ttname"><a href="structcanopy_leaf.html#affd2258e348a38ff904bcda150fc3a31">canopyLeaf::pLeafsun</a></div><div class="ttdeci">double pLeafsun</div><div class="ttdef"><b>Definition:</b> c3canopy.h:24</div></div>
<div class="ttc" id="structcanopy_env_html_ab1547ef7e75f10b8c575b5301aaee5f4"><div class="ttname"><a href="structcanopy_env.html#ab1547ef7e75f10b8c575b5301aaee5f4">canopyEnv::Itotal</a></div><div class="ttdeci">double Itotal</div><div class="ttdef"><b>Definition:</b> c3canopy.h:14</div></div>
<div class="ttc" id="structcanopy_env_html_a517a3f4381501a07eaf435abaf505036"><div class="ttname"><a href="structcanopy_env.html#a517a3f4381501a07eaf435abaf505036">canopyEnv::Idir</a></div><div class="ttdeci">double Idir</div><div class="ttdef"><b>Definition:</b> c3canopy.h:12</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
<div class="ttc" id="structcanopy_html_a0350fe373203592057a8eba790733c4e"><div class="ttname"><a href="structcanopy.html#a0350fe373203592057a8eba790733c4e">canopy::ENV</a></div><div class="ttdeci">struct canopyEnv * ENV</div><div class="ttdef"><b>Definition:</b> c3canopy.h:53</div></div>
<div class="ttc" id="structcanopy_html_a17cbba40a9200a0b3473cebc58c87f3b"><div class="ttname"><a href="structcanopy.html#a17cbba40a9200a0b3473cebc58c87f3b">canopy::LAItotal</a></div><div class="ttdeci">double LAItotal</div><div class="ttdef"><b>Definition:</b> c3canopy.h:52</div></div>
<div class="ttc" id="structcanopy_leaf_html_a27667cdee7bbfb679803cf36256c4cd5"><div class="ttname"><a href="structcanopy_leaf.html#a27667cdee7bbfb679803cf36256c4cd5">canopyLeaf::pLeafshade</a></div><div class="ttdeci">double pLeafshade</div><div class="ttdef"><b>Definition:</b> c3canopy.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae42513b789aea0a0523e01aa6e757f35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getcanopyWINDprofile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcanopy.html">canopy</a> *&#160;</td>
          <td class="paramname"><em>canopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>WindSpeed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordtype">double</span> k=0.7;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordtype">double</span> CumLAI;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          CumLAI=0.0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">for</span>(i=0;i&lt;(canopy-&gt;<a class="code" href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">Nlayers</a>);i++)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;               canopy-&gt;<a class="code" href="structcanopy.html#a0350fe373203592057a8eba790733c4e">ENV</a>[i].<a class="code" href="structcanopy_env.html#a44364bb96e8d72080f9e82fb0325d6aa">windspeed</a>= WindSpeed * exp(-k * CumLAI);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;               CumLAI+=canopy-&gt;<a class="code" href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">Leaf</a>[i].<a class="code" href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">LAI</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="structcanopy_leaf_html_af2896a94dc4bf29566d632587e9c54f1"><div class="ttname"><a href="structcanopy_leaf.html#af2896a94dc4bf29566d632587e9c54f1">canopyLeaf::LAI</a></div><div class="ttdeci">double LAI</div><div class="ttdef"><b>Definition:</b> c3canopy.h:23</div></div>
<div class="ttc" id="structcanopy_html_ac849e7160ff1d625eaac54c5b8992db0"><div class="ttname"><a href="structcanopy.html#ac849e7160ff1d625eaac54c5b8992db0">canopy::Nlayers</a></div><div class="ttdeci">int Nlayers</div><div class="ttdef"><b>Definition:</b> c3canopy.h:50</div></div>
<div class="ttc" id="structcanopy_env_html_a44364bb96e8d72080f9e82fb0325d6aa"><div class="ttname"><a href="structcanopy_env.html#a44364bb96e8d72080f9e82fb0325d6aa">canopyEnv::windspeed</a></div><div class="ttdeci">double windspeed</div><div class="ttdef"><b>Definition:</b> c3canopy.h:16</div></div>
<div class="ttc" id="structcanopy_html_adf45b4b4621ef960d8fe7536e839834e"><div class="ttname"><a href="structcanopy.html#adf45b4b4621ef960d8fe7536e839834e">canopy::Leaf</a></div><div class="ttdeci">struct canopyLeaf * Leaf</div><div class="ttdef"><b>Definition:</b> c3canopy.h:54</div></div>
<div class="ttc" id="structcanopy_html_a0350fe373203592057a8eba790733c4e"><div class="ttname"><a href="structcanopy.html#a0350fe373203592057a8eba790733c4e">canopy::ENV</a></div><div class="ttdeci">struct canopyEnv * ENV</div><div class="ttdef"><b>Definition:</b> c3canopy.h:53</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_auxwillow_gro_8c.html">AuxwillowGro.c</a></li>
    <li class="footer">Generated on Fri Apr 3 2015 15:41:06 for BioCro by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
